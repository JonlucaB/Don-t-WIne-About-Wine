{"ast":null,"code":"//WEVertex becomes a property on Vertex\nvar Vertex, WEVertex;\n\n(function () {\n  var extend = require('../../internals').extend,\n      Vec3D = require('../Vec3D'),\n      proto;\n\n  Vertex = function (v, id) {\n    Vec3D.call(this, v);\n    this.id = id;\n    this.normal = new Vec3D();\n  };\n\n  extend(Vertex, Vec3D);\n  proto = Vertex.prototype;\n\n  proto.addFaceNormal = function (n) {\n    this.normal.addSelf(n);\n  };\n\n  proto.clearNormal = function () {\n    this.normal.clear();\n  };\n\n  proto.computeNormal = function () {\n    this.normal.normalize();\n  };\n\n  proto.toString = function () {\n    return this.id + \": p: \" + this.parent.toString.call(this) + \" n:\" + this.normal.toString();\n  };\n})();\n\n(function () {\n  var extend = require('../../internals').extend,\n      proto;\n\n  WEVertex = function (vec3d, id) {\n    Vertex.call(this, vec3d, id);\n    this.edges = [];\n  };\n\n  extend(WEVertex, Vertex);\n  proto = WEVertex.prototype; //@param {WingedEdge} edge to add\n\n  proto.addEdge = function (edge) {\n    this.edges.push(edge);\n  }; //@param {Vec3D} dir\n  //@param {Number} tolerance\n  //@return {WingedEdge} closest\n\n\n  proto.getNeighborInDirection = function (dir, tolerance) {\n    var closest,\n        delta = 1 - tolerance;\n    var neighbors = this.getNeighbors();\n    var d;\n\n    for (var i = 0, l = neighbors.length; i < l; i++) {\n      d = neighbors[i].sub(this).normalize().dot(dir);\n\n      if (d > delta) {\n        closest = neighbors[i];\n        delta = d;\n      }\n    }\n\n    return closest;\n  }; //@return {WingedEdge[]} neighbors\n\n\n  proto.getNeighbors = function () {\n    var neighbors = [];\n\n    for (var i = 0, l = this.edges.length; i < l; i++) {\n      neighbors.push(this.edges[i].getOtherEndFor(this));\n    }\n\n    return neighbors;\n  };\n\n  proto.removeEdge = function (e) {\n    this.edges.splice(this.edges.indexOf(e), 1);\n  };\n\n  proto.toString = function () {\n    return this.id + \" {\" + this.x + \",\" + this.y + \",\" + this.z + \"}\";\n  };\n\n  return WEVertex;\n})();\n\nVertex.WEVertex = WEVertex;\nmodule.exports = Vertex;","map":{"version":3,"sources":["C:/Users/alfor/Documents/GitHub/Don-t-WIne-About-Wine/node_modules/toxiclibsjs/geom/mesh/Vertex.js"],"names":["Vertex","WEVertex","extend","require","Vec3D","proto","v","id","call","normal","prototype","addFaceNormal","n","addSelf","clearNormal","clear","computeNormal","normalize","toString","parent","vec3d","edges","addEdge","edge","push","getNeighborInDirection","dir","tolerance","closest","delta","neighbors","getNeighbors","d","i","l","length","sub","dot","getOtherEndFor","removeEdge","e","splice","indexOf","x","y","z","module","exports"],"mappings":"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","sourcesContent":["\n\n\t//WEVertex becomes a property on Vertex\n\tvar Vertex, WEVertex;\n\n\t(function(){\n\t\tvar extend = require('../../internals').extend,\n\t\t\tVec3D = require('../Vec3D'),\n\t\t\tproto;\n\n\t\tVertex = function(v,id) {\n\t\t\tVec3D.call(this,v);\n\t\t\tthis.id = id;\n\t\t\tthis.normal = new Vec3D();\n\t\t};\n\t\textend(Vertex,Vec3D);\n\t\tproto = Vertex.prototype;\n\t\tproto.addFaceNormal = function(n) {\n\t\t\tthis.normal.addSelf(n);\n\t\t};\n\n\t\tproto.clearNormal = function() {\n\t\t\tthis.normal.clear();\n\t\t};\n\n\t\tproto.computeNormal = function() {\n\t\t\tthis.normal.normalize();\n\t\t};\n\n\t\tproto.toString = function() {\n\t\t\treturn this.id + \": p: \" + this.parent.toString.call(this) + \" n:\" + this.normal.toString();\n\t\t};\n\t}());\n\n\t(function(){\n\t\tvar extend = require('../../internals').extend, proto;\n\n\t\tWEVertex = function( vec3d, id ){\n\t\t\tVertex.call(this, vec3d, id);\n\t\t\tthis.edges = [];\n\t\t};\n\t\textend( WEVertex, Vertex );\n\t\tproto = WEVertex.prototype;\n\t\t//@param {WingedEdge} edge to add\n\t\tproto.addEdge = function( edge ){\n\t\t\tthis.edges.push( edge );\n\t\t};\n\t\t//@param {Vec3D} dir\n\t\t//@param {Number} tolerance\n\t\t//@return {WingedEdge} closest\n\t\tproto.getNeighborInDirection = function( dir, tolerance ){\n\t\t\tvar closest, delta = 1 - tolerance;\n\t\t\tvar neighbors = this.getNeighbors();\n\t\t\tvar d;\n\t\t\tfor(var i=0, l=neighbors.length; i<l; i++){\n\t\t\t\td = neighbors[i].sub( this ).normalize().dot( dir );\n\t\t\t\tif( d > delta ){\n\t\t\t\t\tclosest = neighbors[i];\n\t\t\t\t\tdelta = d;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn closest;\n\t\t};\n\t\t//@return {WingedEdge[]} neighbors\n\t\tproto.getNeighbors = function(){\n\t\t\tvar neighbors = [];\n\t\t\tfor(var i=0, l=this.edges.length; i<l; i++){\n\t\t\t\tneighbors.push( this.edges[i].getOtherEndFor(this) );\n\t\t\t}\n\t\t\treturn neighbors;\n\t\t};\n\n\t\tproto.removeEdge = function( e ){\n\t\t\tthis.edges.splice( this.edges.indexOf( e ), 1 );\n\t\t};\n\n\t\tproto.toString = function(){\n\t\t\treturn this.id + \" {\" + this.x + \",\" + this.y + \",\" + this.z + \"}\";\n\t\t};\n\n\t\treturn WEVertex;\n\t}());\n\tVertex.WEVertex = WEVertex;\n\tmodule.exports = Vertex;\n\n"]},"metadata":{},"sourceType":"script"}